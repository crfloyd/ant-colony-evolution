<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ant Colony Wars</title>
  </head>
  <body>
    <div id="app">
      <canvas id="gameCanvas"></canvas>
      <div id="ui">
        <!-- Colony Stats Container -->
        <div class="colony-stats-container">
          <!-- Black Colony -->
          <div class="colony-card black-colony">
            <div class="colony-header">
              <span class="colony-indicator"></span>
              <span class="colony-name">Black Colony</span>
            </div>
            <div class="colony-stats">
              <div class="stat-row">
                <span class="stat-icon">üêú</span>
                <span class="stat-value" id="blackAntCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Foragers:</span>
                <span class="stat-value" id="blackForagerCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Scouts:</span>
                <span class="stat-value" id="blackScoutCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-icon">üçé</span>
                <span class="stat-value" id="blackFoodCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-icon">‚öîÔ∏è</span>
                <span class="stat-value" id="blackKills">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Gen:</span>
                <span class="stat-value" id="blackGeneration">1</span>
              </div>
            </div>
            <!-- Genome Visualization -->
            <div class="genome-section">
              <div class="genome-title">Genome</div>
              <div class="genome-trait">
                <span class="trait-name">Scouts</span>
                <div class="trait-bar">
                  <div class="trait-fill" id="blackScoutRatioBar" style="width: 20%;"></div>
                </div>
                <span class="trait-value" id="blackScoutRatioValue">20%</span>
              </div>
              <div class="genome-trait">
                <span class="trait-name">Aggro</span>
                <div class="trait-bar">
                  <div class="trait-fill aggression" id="blackAggressionBar" style="width: 50%;"></div>
                </div>
                <span class="trait-value" id="blackAggressionValue">50%</span>
              </div>
            </div>
          </div>

          <!-- Red Colony -->
          <div class="colony-card red-colony">
            <div class="colony-header">
              <span class="colony-indicator"></span>
              <span class="colony-name">Red Colony</span>
            </div>
            <div class="colony-stats">
              <div class="stat-row">
                <span class="stat-icon">üêú</span>
                <span class="stat-value" id="redAntCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Foragers:</span>
                <span class="stat-value" id="redForagerCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Scouts:</span>
                <span class="stat-value" id="redScoutCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-icon">üçé</span>
                <span class="stat-value" id="redFoodCount">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-icon">‚öîÔ∏è</span>
                <span class="stat-value" id="redKills">0</span>
              </div>
              <div class="stat-row">
                <span class="stat-label">Gen:</span>
                <span class="stat-value" id="redGeneration">1</span>
              </div>
            </div>
            <!-- Genome Visualization -->
            <div class="genome-section">
              <div class="genome-title">Genome</div>
              <div class="genome-trait">
                <span class="trait-name">Scouts</span>
                <div class="trait-bar">
                  <div class="trait-fill" id="redScoutRatioBar" style="width: 20%;"></div>
                </div>
                <span class="trait-value" id="redScoutRatioValue">20%</span>
              </div>
              <div class="genome-trait">
                <span class="trait-name">Aggro</span>
                <div class="trait-bar">
                  <div class="trait-fill aggression" id="redAggressionBar" style="width: 50%;"></div>
                </div>
                <span class="trait-value" id="redAggressionValue">50%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Game Info Bar -->
        <div class="game-info-bar">
          <div class="info-item">
            <span class="info-label">Time</span>
            <span class="info-value" id="simTime">0:00</span>
          </div>
          <div class="info-item">
            <span class="info-label">FPS</span>
            <span class="info-value" id="fps">60</span>
          </div>
        </div>

        <!-- Playback Controls -->
        <div class="playback-controls">
          <button id="slowBtn" class="control-btn" title="Slow Down">¬´</button>
          <button id="pauseBtn" class="control-btn primary" title="Play/Pause">‚ñ∂</button>
          <button id="fastBtn" class="control-btn" title="Speed Up">¬ª</button>
          <span class="speed-display" id="speedDisplay">1x</span>
        </div>

        <!-- Utility Controls -->
        <div class="utility-controls">
          <button id="rockColliderBtn" class="util-btn">üéØ</button>
          <button id="healthBarBtn" class="util-btn" title="Toggle Health Bars (H)">‚ù§Ô∏è</button>
          <button id="genListBtn" class="util-btn" title="View Gen 2+ Ants">‚≠ê</button>
          <button id="debugBtn" class="util-btn">üîß</button>
        </div>

        <!-- Rock Stats (shown only when debug panel is open) -->
        <div id="rockStats" style="display: none;">
          <div class="rock-stat">
            <span class="rock-label">Large:</span>
            <span class="rock-value" id="largeRockStat">0</span>
          </div>
          <div class="rock-stat">
            <span class="rock-label">Medium:</span>
            <span class="rock-value" id="mediumRockStat">0</span>
          </div>
          <div class="rock-stat">
            <span class="rock-label">Small:</span>
            <span class="rock-value" id="smallRockStat">0</span>
          </div>
        </div>
      </div>

      <!-- Ant Debug Panel -->
      <div id="antDebugPanel" style="display: none;">
        <h3>Ant Debug Info
          <button id="copyAntDebug" style="float: right; cursor: pointer; margin-left: 8px;">üìã</button>
          <button id="closeAntDebug" style="float: right; cursor: pointer;">‚úï</button>
        </h3>
        <div id="antDebugContent"></div>
        <button id="sprayDistressBtn" class="util-btn" style="width: 100%; margin-top: 10px; pointer-events: auto;">üíÄ Spray Distress (Hold)</button>
      </div>

      <!-- Generation List Panel -->
      <div id="genListPanel" style="display: none;">
        <h3>Gen 2+ Ants
          <button id="closeGenList" style="float: right; cursor: pointer;">‚úï</button>
        </h3>
        <div id="genListContent"></div>
      </div>

      <!-- Settings Panel -->
      <div id="debugPanel" style="display: none;">
        <h3>Settings</h3>

        <div class="debug-section">
          <h4>Visibility</h4>
          <button id="toggleHomePherBtn" class="settings-toggle-btn">üè† Home Pheromone: OFF</button>
        </div>

        <div class="debug-section">
          <h4>Density</h4>
          <div class="debug-control">
            <label>Large: <span id="largeDensityValue">1.0x</span></label>
            <input type="range" id="largeDensitySlider" min="0" max="3" step="0.1" value="1.0">
          </div>
          <div class="debug-control">
            <label>Medium: <span id="mediumDensityValue">1.0x</span></label>
            <input type="range" id="mediumDensitySlider" min="0" max="3" step="0.1" value="1.0">
          </div>
          <div class="debug-control">
            <label>Small: <span id="smallDensityValue">1.0x</span></label>
            <input type="range" id="smallDensitySlider" min="0" max="3" step="0.1" value="1.0">
          </div>
        </div>

        <div class="debug-section">
          <h4>Spread</h4>
          <div class="debug-control">
            <label>Large: <span id="largeSpreadValue">0.8</span></label>
            <input type="range" id="largeSpreadSlider" min="0.5" max="2.0" step="0.1" value="0.8">
          </div>
          <div class="debug-control">
            <label>Medium: <span id="mediumSpreadValue">0.7</span></label>
            <input type="range" id="mediumSpreadSlider" min="0.5" max="2.0" step="0.1" value="0.7">
          </div>
          <div class="debug-control">
            <label>Small: <span id="smallSpreadValue">0.7</span></label>
            <input type="range" id="smallSpreadSlider" min="0.5" max="2.0" step="0.1" value="0.7">
          </div>
        </div>

        <button id="respawnRocksBtn">Respawn Rocks</button>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
